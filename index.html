<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>L·∫≠t Bit G·ªçn Nh·∫π</title>
<style>
* {
    box-sizing: border-box;
}

  body {
    background: linear-gradient(135deg, #1e1e2f, #252542);
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    padding-top: 40px;
    color: #ffffff;
}

.container {
    background: rgba(255, 255, 255, 0.05);
    padding: 30px;
    border-radius: 16px;
    width: 320px;
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(8px);
}

h2 {
    margin-bottom: 20px;
    font-weight: 600;
}

.container div {
    margin-bottom: 18px;
    text-align: left;
}

input {
    width: 100%;
    padding: 10px 12px;
    margin-top: 6px;
    border-radius: 8px;
    border: 1px solid #444;
    background-color: #2b2b3d;   /* n·ªÅn t·ªëi h∆°n */
    color: #ffffff;              /* ch·ªØ s√°ng */
    font-weight: 600;            /* ch·ªØ ƒë·∫≠m h∆°n */
    font-size: 16px;
    outline: none;
    transition: 0.3s ease;
}

input::placeholder {
    color: #bbbbbb;
    font-weight: 400;
}

input:focus {
    background-color: #33334d;
    border-color: #4da6ff;
    box-shadow: 0 0 12px rgba(77, 166, 255, 0.6);
}
#statusMsg {
    transition: opacity 0.3s ease;
    opacity: 0;
}
button {
    width: 100%;
    padding: 10px;
    margin-top: 10px;
    border-radius: 10px;
    border: none;
    cursor: pointer;

    background: linear-gradient(135deg, #4da6ff, #0066ff);
    color: #ffffff;
    font-size: 16px;
    font-weight: 600;

    transition: all 0.25s ease;
    box-shadow: 0 6px 15px rgba(0, 102, 255, 0.4);
}

button:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 20px rgba(0, 102, 255, 0.6);
}

button:active {
    transform: translateY(0);
    box-shadow: 0 4px 10px rgba(0, 102, 255, 0.4);
}

button:focus {
    outline: none;
}

.resultBox {
    width: 45px;
    text-align: center;
    font-weight: 700;
    font-size: 18px;
}

.originalBox{
    width: 45px;
    text-align: center;
    font-weight: 700;
    font-size: 18px;
}

.highlight {
    background-color: #ffcc00;
    color: black;
    box-shadow: 0 0 10px #ffcc00;
    transition: 0.3s;
}





</style>
</head>
<body>


<div class="container">
    <h2>L·∫≠t Bit</h2>

    <div>
    <div>Nh·∫≠p 5 bit:</div>
    <input 
        type="tel" 
        id="bitInput" 
        maxlength="5" 
        inputmode="numeric"
        pattern="[0-1]*"
        placeholder="VD: 10101">
    </div>


<div>
    <div>5 bit v·ª´a nh·∫≠p:</div>
    <div style="display:flex; gap:6px;">
        <input type="text" class="originalBox" readonly>
        <input type="text" class="originalBox" readonly>
        <input type="text" class="originalBox" readonly>
        <input type="text" class="originalBox" readonly>
        <input type="text" class="originalBox" readonly>
    </div>
</div>


    <div>
    <div>K·∫øt qu·∫£:</div>
    <div id="resultBoxes" style="display:flex; gap:6px;">
        <input type="text" class="resultBox" readonly>
        <input type="text" class="resultBox" readonly>
        <input type="text" class="resultBox" readonly>
        <input type="text" class="resultBox" readonly>
        <input type="text" class="resultBox" readonly>
    </div>
     
     
     <div id="flipMessage" style="margin-top:10px; font-weight:600; color:#4da6ff;"></div>


    <div>
        <div>Th·ª© t·ª± l·∫≠t (vd: 5,3,1,1,2):</div>
        <input type="text" id="orderInput" value="5-3-1-1-2-4-5-3-1-1-2-4-5-2-4-3-1-2-4-2-3-4-2-1-2-4-1-5-3-2-5-3-1-1-2-3">
        <button onclick="applyOrder()">√Åp d·ª•ng</button>
        <div id="statusMsg" style="margin-top:8px;font-size:14px;"></div>
    </div>
</div>






<script>
let BIT_LENGTH = 5;   // üëâ ƒë·ªïi th√†nh 10 ho·∫∑c 15 n·∫øu mu·ªën
let flipOrder = [];
let currentIndex = 0;

const bitInput = document.getElementById("bitInput");
const resultBoxes = document.querySelectorAll(".resultBox");
const orderInput = document.getElementById("orderInput");
const statusMsg = document.getElementById("statusMsg");
const originalBoxes = document.querySelectorAll(".originalBox");
const flipMessage = document.getElementById("flipMessage");




/* C·∫≠p nh·∫≠t maxlength theo BIT_LENGTH */
bitInput.setAttribute("maxlength", BIT_LENGTH);

/* √Åp d·ª•ng th·ª© t·ª± l·∫≠t */
function applyOrder() {

    flipOrder = orderInput.value
        .split(",")
        .map(n => parseInt(n.trim()))
        .filter(n => !isNaN(n) && n >= 1 && n <= BIT_LENGTH);

    currentIndex = 0;

    if (flipOrder.length === 0) {
        statusMsg.innerText = "‚ö† Th·ª© t·ª± kh√¥ng h·ª£p l·ªá!";
        statusMsg.style.color = "red";
    } else {
        statusMsg.innerText = "‚úî ƒê√£ √°p d·ª•ng th·ª© t·ª± m·ªõi!";
        statusMsg.style.color = "#4da6ff";
    }

    statusMsg.style.opacity = "1";

    setTimeout(() => {
        statusMsg.style.opacity = "0";
    }, 2000);
}

/* X·ª≠ l√Ω nh·∫≠p bit */
bitInput.addEventListener("input", function () {

    let value = this.value.trim();

    const regex = new RegExp(`^[01]{${BIT_LENGTH}}$`);

    if (regex.test(value)) {

        if (flipOrder.length === 0) return;

        let bits = value.split("");

        // 1Ô∏è‚É£ Copy sang 5 √¥ hi·ªÉn th·ªã g·ªëc
        for (let i = 0; i < BIT_LENGTH; i++) {
            originalBoxes[i].value = bits[i];
        }

       // 2Ô∏è‚É£ L·∫≠t bit theo th·ª© t·ª±
let flipPos = flipOrder[currentIndex] - 1;

let oldValue = bits[flipPos];
bits[flipPos] = bits[flipPos] === "0" ? "1" : "0";
let newValue = bits[flipPos];


// Xo√° highlight c≈©
resultBoxes.forEach(box => box.classList.remove("highlight"));

// Highlight √¥ b·ªã l·∫≠t
resultBoxes[flipPos].classList.add("highlight");

// T·ª± xo√° highlight sau 500ms
setTimeout(() => {
    resultBoxes[flipPos].classList.remove("highlight");
}, 2500);




        // 3Ô∏è‚É£ Hi·ªÉn th·ªã k·∫øt qu·∫£ l·∫≠t
        for (let i = 0; i < BIT_LENGTH; i++) {
            resultBoxes[i].value = bits[i];
        }



flipMessage.innerText =
    `ƒê√£ l·∫≠t v·ªã tr√≠: ${flipPos + 1} (${oldValue} ‚Üí ${newValue})`;

flipMessage.style.opacity = "1";

setTimeout(() => {
    flipMessage.style.opacity = "0";
}, 2000);



        currentIndex++;
        if (currentIndex >= flipOrder.length) {
            currentIndex = 0;
        }

        this.value = "";
        this.focus();
    }
});

/* Khi load trang */
document.addEventListener("DOMContentLoaded", function () {
    applyOrder();   // t·ª± √°p d·ª•ng th·ª© t·ª± ban ƒë·∫ßu
    bitInput.focus();
});
</script>

</body>
</html>






